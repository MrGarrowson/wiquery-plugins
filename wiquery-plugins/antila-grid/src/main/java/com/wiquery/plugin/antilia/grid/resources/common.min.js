if(typeof(Antilia)=="undefined"){Antilia={};}Antilia.emptyFunction=function(){};Antilia.stopEvent=function(e){e=Antilia.fixEvent(e);e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();}};Antilia.fixEvent=function(e){if(typeof e=="undefined"){e=window.event;}return e;};Antilia.loadingVisible=false;Antilia.Drag={init:function(element,onDragBegin,onDragEnd,onDrag){if(typeof(onDragBegin)=="undefined"){onDragBegin=Antilia.emptyFunction;}if(typeof(onDragEnd)=="undefined"){onDragEnd=Antilia.emptyFunction;}if(typeof(onDrag)=="undefined"){onDrag=Antilia.emptyFunction;}element.onmousedown=function(e){e=Antilia.fixEvent(e);if(typeof(e.ignore)=="undefined"){Antilia.stopEvent(e);onDragBegin(element);element.onDrag=onDrag;element.onDragEnd=onDragEnd;element.lastMouseX=e.clientX;element.lastMouseY=e.clientY;element.old_onmousemove=document.onmousemove;element.old_onmouseup=document.onmouseup;element.old_onselectstart=document.onselectstart;document.onselectstart=function(){return false;};document.onmousemove=Antilia.Drag.mouseMove;document.onmouseup=Antilia.Drag.mouseUp;Antilia.Drag.current=element;return false;}};},clean:function(element){element.onmousedown=null;},mouseMove:function(e){e=Antilia.fixEvent(e);var o=Antilia.Drag.current;if(e.clientX<0||e.clientY<0){return;}if(o!=null){var deltaX=e.clientX-o.lastMouseX;var deltaY=e.clientY-o.lastMouseY;var res=o.onDrag(o,deltaX,deltaY);if(res==null){res=[0,0];}o.lastMouseX=e.clientX+res[0];o.lastMouseY=e.clientY+res[1];}return false;},mouseUp:function(e){e=Antilia.fixEvent(e);var o=Antilia.Drag.current;o.onDragEnd(o);o.onDrag=null;o.onDragEnd=null;o.lastMouseX=null;o.lastMouseY=null;document.onmousemove=o.old_onmousemove;document.onmouseup=o.old_onmouseup;document.onselectstart=o.old_onselectstart;o.old_mousemove=null;o.old_mouseup=null;o.old_onselectstart=null;Antilia.Drag.current=null;}};Antilia.getElementsByClass=function getElementsByClass(node,searchClass,tag){var classElements=new Array();var els=node.getElementsByTagName(tag);var elsLen=els.length;for(i=0,j=0;i<elsLen;i++){if(els[i].className==searchClass){classElements[j]=els[i];j++;}}return classElements;};Antilia.replaceStyle=function(nodeid,searchClass,tag,styleClass){var node=document.getElementById(nodeid);var eles=Antilia.getElementsByClass(node,searchClass,tag);for(var i=0;i<eles.length;i++){var ele=eles[i];if(ele){ele.className=styleClass;}}};Antilia.setStyle=function(fields,styleClass){for(var i=0;i<fields.length;i++){var id=fields[i];var ele=document.getElementById(id);if(ele){ele.className=styleClass;}}};